"use strict";(self.webpackChunkcrudangular=self.webpackChunkcrudangular||[]).push([[499],{8499:(A,U,a)=>{a.r(U),a.d(U,{UpdatedUserModule:()=>l});var f=a(6895),p=a(6773),h=a(5226),g=a.n(h),e=a(8256),v=a(4004),c=a(529),C=a(2340);class d{constructor(t){this.http=t,this.URL=C.N.api}getUserById(t){const n=(new c.WM).set("Content-Type","application/json");return this.http.get(`${this.URL}/student/${t}`,{headers:n})}updatedUser(t,n){const o=(new c.WM).set("Content-Type","application/json");return this.http.put(`${this.URL}/student/${t}`,n,{headers:o}).pipe((0,v.U)(m=>!0))}}d.\u0275fac=function(t){return new(t||d)(e.LFG(c.eN))},d.\u0275prov=e.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"});var s=a(433);const Z=["formUpdatedUser"];function b(r,t){1&r&&(e.TgZ(0,"span",19),e._uU(1," El nombre es requerido, debe un minimo 3 caracteres "),e.qZA())}function M(r,t){1&r&&(e.TgZ(0,"span",19),e._uU(1," El nombre es requerido, debe un minimo 3 caracteres "),e.qZA())}function y(r,t){1&r&&(e.TgZ(0,"span",19),e._uU(1," El email es obligatorio y debe tener formato de email "),e.qZA())}class u{constructor(t,n,o){this.userUpdated=t,this.activatedRoute=n,this.router=o,this.userHtml={name:"",lastname:"",email:""},this.regexEmail="^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$"}ngOnInit(){this.getUserById()}getUserById(){this.activatedRoute.paramMap.subscribe(t=>{const n=Number(t.get("id"));this.userUpdated.getUserById(n).subscribe(o=>{this.userHtml=o,console.log(this.userHtml)})})}updatedUser(){if(!this.formUpdatedUser.valid)return void g().fire({icon:"error",title:"Oops...",text:"Completa los campos necesarios!"});const t=Number(this.userHtml.id);this.userUpdated.updatedUser(t,this.userHtml).subscribe(n=>{n&&g().fire("Actualizado!","El usuario actualizado con exito!","success")}),this.router.navigateByUrl("/users")}nombreValido(){return this.formUpdatedUser?.controls.name?.invalid&&this.formUpdatedUser?.controls.name?.touched}correoValido(){return this.formUpdatedUser?.controls.email?.invalid&&this.formUpdatedUser?.controls.email?.touched}lastNameValido(){return this.formUpdatedUser?.controls.lastname?.invalid&&this.formUpdatedUser?.controls.lastname?.touched}}u.\u0275fac=function(t){return new(t||u)(e.Y36(d),e.Y36(p.gz),e.Y36(p.F0))},u.\u0275cmp=e.Xpm({type:u,selectors:[["app-user-updated"]],viewQuery:function(t,n){if(1&t&&e.Gf(Z,5),2&t){let o;e.iGM(o=e.CRH())&&(n.formUpdatedUser=o.first)}},decls:30,vars:7,consts:[[1,"container-fluid"],[1,"row"],[1,"col-10"],[1,"container","mt-5"],[1,"col-6","offset-3","formulario"],[1,"text-center","mb-5"],[3,"ngSubmit"],["formUpdatedUser","ngForm"],[1,"mb-3"],["for","nombre",1,"form-label"],["type","text","id","name","name","name","required","","minlength","3",1,"form-control",3,"ngModel","ngModelChange"],["class","form-text text-danger",4,"ngIf"],["type","text","id","lastname","name","lastname","required","","minlength","3",1,"form-control",3,"ngModel","ngModelChange"],["for","email",1,"form-label"],["id","email","type","email","name","email","required","",1,"form-control",3,"ngModel","pattern","ngModelChange"],["type","hidden","name","id","id","id","value",""],[1,"d-grid","gap-2"],["type","submit",1,"btn","btn-dark"],[1,"form-text"],[1,"form-text","text-danger"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"h2",5),e._uU(7,"Editar Cliente"),e.qZA(),e.TgZ(8,"form",6,7),e.NdJ("ngSubmit",function(){return n.updatedUser()}),e.TgZ(10,"div",8)(11,"label",9),e._uU(12,"Nombre"),e.qZA(),e.TgZ(13,"input",10),e.NdJ("ngModelChange",function(m){return n.userHtml.name=m}),e.qZA(),e.YNc(14,b,2,0,"span",11),e.qZA(),e.TgZ(15,"div",8)(16,"label",9),e._uU(17,"LastName"),e.qZA(),e.TgZ(18,"input",12),e.NdJ("ngModelChange",function(m){return n.userHtml.lastname=m}),e.qZA(),e.YNc(19,M,2,0,"span",11),e.qZA(),e.TgZ(20,"div",8)(21,"label",13),e._uU(22,"Correo"),e.qZA(),e.TgZ(23,"input",14),e.NdJ("ngModelChange",function(m){return n.userHtml.email=m}),e.qZA(),e.YNc(24,y,2,0,"span",11),e.qZA(),e._UZ(25,"input",15),e.TgZ(26,"div",16)(27,"button",17),e._uU(28,"Editar Cliente"),e.qZA()(),e._UZ(29,"div",18),e.qZA()()()()()()()),2&t&&(e.xp6(13),e.Q6J("ngModel",n.userHtml.name),e.xp6(1),e.Q6J("ngIf",n.nombreValido()),e.xp6(4),e.Q6J("ngModel",n.userHtml.lastname),e.xp6(1),e.Q6J("ngIf",n.lastNameValido()),e.xp6(4),e.Q6J("ngModel",n.userHtml.email)("pattern",n.regexEmail),e.xp6(1),e.Q6J("ngIf",n.correoValido()))},dependencies:[f.O5,s._Y,s.Fj,s.JJ,s.JL,s.Q7,s.wO,s.c5,s.On,s.F]});const T=[{path:"",component:u}];class i{}i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[p.Bz.forChild(T),p.Bz]});class l{}l.\u0275fac=function(t){return new(t||l)},l.\u0275mod=e.oAB({type:l}),l.\u0275inj=e.cJS({imports:[f.ez,i,s.u5]})}}]);
"use strict";(self.webpackChunkcrudangular=self.webpackChunkcrudangular||[]).push([[193],{3193:(v,d,r)=>{r.r(d),r.d(d,{UsersModule:()=>a});var p=r(6895),g=r(6773),C=r(5226),U=r.n(C),t=r(8256),f=r(529),Z=r(4004),A=r(2340);class o{constructor(e){this.http=e,this.URL=A.N.api}getAllUser$(){return this.http.get(`${this.URL}/students`)}deleteUser(e){const s=`${this.URL}/student/${e}`,c=(new f.WM).set("Content-Type","application/json");return this.http.delete(s,{headers:c}).pipe((0,Z.U)(m=>(U().fire("Borrado!","El usuario a sido elimado!","success"),!0)))}}function x(n,e){if(1&n){const s=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td")(8,"i",8),t.NdJ("click",function(){const u=t.CHM(s).$implicit,h=t.oxw();return t.KtG(h.updatedUser(null==u?null:u.id))}),t.qZA(),t.TgZ(9,"i",9),t.NdJ("click",function(){const u=t.CHM(s).$implicit,h=t.oxw();return t.KtG(h.deleteUser(null==u?null:u.id))}),t.qZA()()()}if(2&n){const s=e.$implicit;t.xp6(2),t.Oqu(s.name),t.xp6(2),t.Oqu(s.lastname),t.xp6(2),t.Oqu(s.email)}}o.\u0275fac=function(e){return new(e||o)(t.LFG(f.eN))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"});class l{constructor(e,s){this.usersService=e,this.router=s,this.usersHtml=[]}ngOnInit(){console.log("ngOnInit"),this.getUserAll()}getUserAll(){this.usersService.getAllUser$().subscribe(e=>{this.usersHtml=e})}updatedUser(e){this.router.navigate(["/user-updated",e])}deleteUser(e){const s=Number(e);U().fire({title:"\xbfEstas seguro?",text:"Estas a punto de eliminar al usuario",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si, borrar ahora!"}).then(c=>{c.isConfirmed&&this.usersService.deleteUser(s).subscribe(m=>{m&&this.getUserAll()})})}}l.\u0275fac=function(e){return new(e||l)(t.Y36(o),t.Y36(g.F0))},l.\u0275cmp=t.Xpm({type:l,selectors:[["app-users-page"]],decls:17,vars:1,consts:[[1,"users-page"],[1,"text-center","mt-5"],[1,"container","mt-5"],[1,"table","table-dark","table-hover"],[1,"table-light"],["scope","col"],["id","listado-clientes"],[4,"ngFor","ngForOf"],[1,"text-success","fa-solid","fa-pen-to-square","mx-3",3,"click"],[1,"text-danger","fa-solid","fa-trash",3,"click"]],template:function(e,s){1&e&&(t.TgZ(0,"div",0)(1,"h2",1),t._uU(2,"Listado de Clientes"),t.qZA(),t.TgZ(3,"div",2)(4,"table",3)(5,"thead",4)(6,"tr")(7,"th",5),t._uU(8,"Name"),t.qZA(),t.TgZ(9,"th",5),t._uU(10,"Lastname"),t.qZA(),t.TgZ(11,"th",5),t._uU(12,"Email"),t.qZA(),t.TgZ(13,"th",5),t._uU(14,"Actions"),t.qZA()()(),t.TgZ(15,"tbody",6),t.YNc(16,x,10,3,"tr",7),t.qZA()()()()),2&e&&(t.xp6(16),t.Q6J("ngForOf",s.usersHtml))},dependencies:[p.sg],styles:[".users-page[_ngcontent-%COMP%]{padding:1rem}"]});const T=[{path:"",component:l}];class i{}i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[g.Bz.forChild(T),g.Bz]});class a{}a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[p.ez,i]})},2340:(v,d,r)=>{r.d(d,{N:()=>p});const p={production:!1,api:"http://localhost:8080/api"}}}]);